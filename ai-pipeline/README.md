# AI 통합 파이프라인 (ai-pipeline)

## 개요
이 모듈은 블록체인 지갑 주소 분석을 위한 종합적인 AI 파이프라인을 구현합니다. 비지도 학습(클러스터링)과 지도 학습(분류) 접근법을 통합하여 이더리움 지갑 주소의 사용자 특성을 분석하고 분류합니다. `ai-clusturing`과 `ai-deduction` 모듈의 기능을 통합하여 엔드투엔드 파이프라인을 제공합니다.

## 파일 구조
- `__init__.py`: 모듈 초기화 파일
- `utils.py`: 로깅, 데이터 검증, 결과 저장 등 유틸리티 함수
- `service.py`: 클러스터링과 추론 기능을 통합한 분석 서비스
- `pipeline.py`: 모델 파이프라인 관리 및 훈련 기능
- `main.py`: 메인 실행 스크립트 (명령행 인터페이스)

## 주요 기능

### 1. 통합 분석 파이프라인
- 지갑 주소의 온체인 데이터 수집
- 비지도 학습을 통한 클러스터링 (유사한 사용자 그룹 식별)
- 지도 학습을 통한 클래스 예측 (사용자 유형 분류)
- 종합적인 분석 결과 제공

### 2. 파이프라인 구성 요소
- 데이터 수집 및 전처리 서비스
- 특성 추출 및 가공 파이프라인
- 클러스터링 모델 (K-means, DBSCAN 등)
- 분류 모델 (XGBoost, Random Forest 등)
- 결과 해석 및 시각화 도구

### 3. 모델 관리
- 모델 버전 관리
- 통합 훈련 파이프라인
- 모델 성능 평가 및 모니터링
- 모델 업데이트 및 마이그레이션

### 4. 확장성 및 유연성
- 다양한 모델 지원
- 여러 EVM 체인 호환
- 파라미터 조정을 통한 커스터마이징
- 모듈식 아키텍처로 확장 용이

## 전체 AI 시스템 아키텍처

```
┌─────────────────────┐     ┌──────────────────────┐     ┌─────────────────────┐
│   데이터 수집 계층   │     │     모델 계층        │     │    서비스 계층      │
├─────────────────────┤     ├──────────────────────┤     ├─────────────────────┤
│ - 온체인 데이터 수집 │     │ - 클러스터링 모델    │     │ - 통합 분석 서비스  │
│ - 데이터 전처리      │     │ - 분류 모델          │     │ - API 엔드포인트    │
│ - 특성 추출          │     │ - 모델 훈련 파이프라인│     │ - 결과 캐싱         │
└─────────────────────┘     └──────────────────────┘     └─────────────────────┘
          ▲                           ▲                            ▲
          │                           │                            │
          └───────────────────────────┼────────────────────────────┘
                                      │
                           ┌──────────────────────┐
                           │   통합 파이프라인    │
                           ├──────────────────────┤
                           │ - 모델 관리          │
                           │ - 워크플로우 조정    │
                           │ - 결과 통합          │
                           └──────────────────────┘
```

## AI 파이프라인 데이터 흐름

1. **데이터 수집**: 이더리움 지갑 주소의 온체인 데이터 수집
2. **특성 추출**: 트랜잭션 패턴, 계약 상호작용 등 분석
3. **클러스터링**: 비지도 학습으로 유사한 사용자 그룹 식별
4. **프로필 생성**: 클러스터 특성 분석 및 프로필 생성
5. **분류**: 지도 학습 모델로 사용자 유형 분류
6. **결과 통합**: 클러스터링과 분류 결과 통합 분석
7. **결과 제공**: 분석 결과 및 인사이트 제공

## 주요 구성 요소간 관계

- **ai-clusturing**: 비지도 학습 접근법을 사용하여 유사한 사용자 그룹을 식별하고 클러스터 프로필 생성
- **ai-deduction**: 지도 학습 접근법으로 사전 정의된 클래스로 사용자 분류
- **ai-pipeline**: 두 모듈을 통합하여 종합적인 사용자 분석 제공

## 사용 방법

### 통합 분석 실행하기
```bash
python -m ai-pipeline.main analyze --address=0x123...abc
```

### 모델 훈련하기
```bash
python -m ai-pipeline.main train --data_path=/path/to/data.json
```

### 도움말 보기
```bash
python -m ai-pipeline.main help
```

## 구현된 AI 파이프라인 단계

| 단계 | 구현 내용 | 관련 파일 및 함수 |
|-----|----------|-----------------|
| 1. 데이터 수집 | 이더리움 지갑 주소의 온체인 데이터 수집 | utils.py: load_address_data() |
| 2. 데이터 전처리 | 데이터 정제, 정규화, 특성 변환 | service.py: _preprocess_data() |
| 3. 특성 추출 | 지갑 주소의 행동 패턴 특성 추출 | service.py: _extract_features() |
| 4. 모델 학습 | 클러스터링 및 분류 모델 통합 훈련 | pipeline.py: train_pipeline() |
| 5. 모델 평가 | 모델 성능 평가 및 최적화 | pipeline.py: _evaluate_models() |
| 6. 모델 저장 | 훈련된 모델 및 파이프라인 저장 | utils.py: save_result() |
| 7. 추론 | 새로운 지갑 주소 분석 및 예측 | service.py: analyze_address() |
| 8. 결과 해석 | 분석 결과 해석 및 인사이트 제공 | service.py: _generate_insights() |

## 확장 및 개선 방향

1. **다중 체인 지원**: 이더리움 외 다른 EVM 호환 체인 지원 추가
2. **실시간 분석**: 스트리밍 데이터 처리 기능 구현
3. **고급 모델**: 그래프 신경망, 시계열 모델 등 통합
4. **API 서비스**: RESTful API로 분석 서비스 제공
5. **대시보드**: 분석 결과 시각화를 위한 대시보드 개발 